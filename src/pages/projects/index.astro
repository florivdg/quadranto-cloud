---
import { Button } from '@/components/ui/button'
import { listProjects } from '@/db/client/projects'
import App from '@/layouts/App.astro'
import Main from '@/layouts/Main.astro'

const { user } = Astro.locals
const projects = await listProjects(user!.id)
---

<App title="Projects">
  <Main heading="Projects" initialProjects={projects}>
    <div
      class="flex flex-1 items-center justify-center rounded-lg border border-dashed shadow-sm"
    >
      <div class="flex flex-col items-center gap-1 text-center">
        <h3 class="text-2xl font-bold tracking-tight">
          You have no projects yet.
        </h3>
        <p class="text-sm text-muted-foreground">
          You can start planning as soon as you add a project.
        </p>
        <Button class="mt-4">Add Project</Button>
      </div>
    </div>
  </Main>
</App>
